#!/usr/bin/env python3
import csv
import datetime
from pathlib import Path

MASTER = Path("/Users/koossimons/Library/Mobile Documents/com~apple~CloudDocs/Portuguese/Anki/sayings.csv")

def load_today_cards():
    today = datetime.date.today().isoformat()
    found = []

    if not MASTER.exists():
        print("No sayings.csv file found.")
        return

    with open(MASTER, "r", encoding="utf-8") as f:
        for row in csv.reader(f):
            if len(row) != 5:
                continue
            date, pt, en, *_ = row
            if date == today:
                found.append((pt, en))

    if not found:
        print(f"⚠️  No new cards added on {today}.")
    else:
        print(f"✅ {len(found)} new card(s) added on {today}:")
        for i, (pt, en) in enumerate(found, 1):
            print(f"{i:>2}. {en} → {pt}")

if __name__ == "__main__":
    load_today_cards
